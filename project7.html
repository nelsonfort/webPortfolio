<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-en="Heat Pump Controller - My Portfolio" data-es="Controlador Bomba de Calor - Mi Portafolio">Controlador Bomba de Calor - Mi Portafolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <div class="container">
            <h1 class="logo-text" data-en="Nelson Fortunatti" data-es="Nelson Fortunatti">Nelson Fortunatti</h1>
            <ul>
                <li><a href="index.html#cover" data-en="Home" data-es="Inicio">Inicio</a></li>
                <li><a href="index.html#about" data-en="About Me" data-es="Sobre Mí">Sobre Mí</a></li>
                <li><a href="index.html#projects" data-en="Projects" data-es="Proyectos">Proyectos</a></li>
                <li><a href="index.html#contact" data-en="Contact" data-es="Contacto">Contacto</a></li>
                <li id="lang-switcher"><a href="#">English</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <section class="project-detail-section">
            <div class="container">
                <h2 data-en="Heat Pump Controller" data-es="Controlador Bomba de Calor">Controlador Bomba de Calor</h2>

                <div class="carousel-container">
                    <div class="carousel-slides">
                        <div class="carousel-slide" style="background-image: url('images/project7/hp1.jpg');"></div>
                        <div class="carousel-slide" style="background-image: url('images/project7/hp2.jpg');"></div>
                        <div class="carousel-slide" style="background-image: url('images/project7/hp3.jpg');"></div>
                        <div class="carousel-slide" style="background-image: url('images/project7/hp4.jpg');"></div>
                        <div class="carousel-slide" style="background-image: url('images/project7/hp5.jpg');"></div>
                        <div class="carousel-slide" style="background-image: url('images/project7/hp6.jpg');"></div>
                        
                    </div>
                </div>

                <div class="project-detail-description">
                    <h3 data-en="About This Project" data-es="Sobre Este Proyecto">Sobre Este Proyecto</h3>
                    <p data-en="This device is a heat pump controller based on Raspberry Pi 3B. It controls the complete behavior of a heat pump system, allowing the user to adjust everything using a capacitive touch screen. Both the hardware and software were designed by me. The software utilizes QT C++ and QML for the user interface, while the program for monitoring and controlling the heat pump is written in C using threads. This program communicates with the UI program to display the current state and receive new configurations." data-es="Este dispositivo es un controlador de bomba de calor basado en Raspberry Pi 3B. Controla el comportamiento completo de un sistema de bomba de calor, permitiendo al usuario ajustar todo mediante una pantalla táctil capacitiva. Tanto el hardware como el software fueron diseñados por mí. El software utiliza QT C++ y QML para la interfaz de usuario, mientras que el programa de monitoreo y control de la bomba de calor está escrito en C usando hilos. Este programa se comunica con el programa de interfaz de usuario para mostrar el estado actual y recibir nuevas configuraciones.">This device is a heat pump controller based on Raspberry Pi 3B. It controls the complete behavior of a heat pump system, allowing the user to adjust everything using a capacitive touch screen. Both the hardware and software were designed by me. The software utilizes QT C++ and QML for the user interface, while the program for monitoring and controlling the heat pump is written in C using threads. This program communicates with the UI program to display the current state and receive new configurations.</p>
                    <h3 data-en="Key Technologies and Features:" data-es="Tecnologías y Características Clave:">Tecnologías y Características Clave:</h3>
                    <ul>
                        <li data-en="Raspberry Pi 3B Based" data-es="Basado en Raspberry Pi 3B">Basado en Raspberry Pi 3B</li>
                        <li data-en="Capacitive Touch Screen Interface" data-es="Interfaz de Pantalla Táctil Capacitiva">Interfaz de Pantalla Táctil Capacitiva</li>
                        <li data-en="UI developed with QT C++ and QML" data-es="Interfaz de Usuario desarrollada con QT C++ y QML">Interfaz de Usuario desarrollada con QT C++ y QML</li>
                        <li data-en="Control program in C with threads" data-es="Programa de control en C con hilos">Programa de control en C con hilos</li>
                        <li data-en="Full Heat Pump System Control" data-es="Control Completo del Sistema de Bomba de Calor">Control Completo del Sistema de Bomba de Calor</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p><span data-en="&copy; 2025 Nelson Fortunatti. All rights reserved." data-es="&copy; 2025 Nelson Fortunatti. Todos los derechos reservados.">&copy; 2025 Nelson Fortunatti. Todos los derechos reservados.</span></p>
            <p><span data-en="nelsonfortunatti@gmail.com" data-es="nelsonfortunatti@gmail.com">nelsonfortunatti@gmail.com</span></p>
        </div>
    </footer>

    <div id="imageModal" class="modal">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="modalImage">
        <div id="caption"></div>
    </div>

    <script>
         document.addEventListener('DOMContentLoaded', () => {
             // --- Language Switcher Script ---
             const htmlTag = document.documentElement;
             const langSwitcherLink = document.getElementById('lang-switcher').querySelector('a');
             const elementsToTranslate = document.querySelectorAll('[data-en], [data-es], [data-en-placeholder], [data-es-placeholder]');
             const titleTag = document.querySelector('title');

             function setLanguage(lang) {
                 htmlTag.lang = lang;
                 localStorage.setItem('lang', lang);

                 if (lang === 'es') {
                     langSwitcherLink.textContent = 'English';
                 } else {
                     langSwitcherLink.textContent = 'Español';
                 }

                 const titleEn = titleTag.getAttribute('data-en');
                 const titleEs = titleTag.getAttribute('data-es');
                 if (lang === 'en' && titleEn) {
                     titleTag.textContent = titleEn;
                 } else if (lang === 'es' && titleEs) {
                     titleTag.textContent = titleEs;
                 }


                 elementsToTranslate.forEach(element => {
                     const textEn = element.getAttribute('data-en');
                     const textEs = element.getAttribute('data-es');
                     if (lang === 'en' && textEn !== null) {
                         element.textContent = textEn;
                     } else if (lang === 'es' && textEs !== null) {
                         element.textContent = textEs;
                     }

                     const placeholderEn = element.getAttribute('data-en-placeholder');
                     const placeholderEs = element.getAttribute('data-es-placeholder');
                     if (lang === 'en' && placeholderEn !== null) {
                          element.placeholder = placeholderEn;
                     } else if (lang === 'es' && placeholderEs !== null) {
                          element.placeholder = placeholderEs;
                     }
                 });
             }

             const savedLang = localStorage.getItem('lang');
             if (savedLang) {
                 setLanguage(savedLang);
             } else {
                  setLanguage(htmlTag.lang || 'es'); // Default to 'es' if not set
             }

             langSwitcherLink.addEventListener('click', (event) => {
                 event.preventDefault();
                 const currentLang = htmlTag.lang;
                 const newLang = currentLang === 'es' ? 'en' : 'es';
                 setLanguage(newLang);
             });

             // --- Carousel Script ---
             const carouselSlidesContainer = document.querySelector('.carousel-slides');
             const slides = document.querySelectorAll('.carousel-slide'); // Re-select
             const intervalTime = 2000;
             let slideInterval;
             let currentIndex = 0;

             if (carouselSlidesContainer && slides.length > 0) {
                 function moveCarouselTo(index) {
                      currentIndex = index;
                      const offset = -currentIndex * 100;
                      carouselSlidesContainer.style.transform = `translateX(${offset}%)`;
                 }

                 function nextSlide() {
                     currentIndex++;
                     if (currentIndex >= slides.length) {
                          currentIndex = 0;
                     }
                     moveCarouselTo(currentIndex);
                 }

                 slideInterval = setInterval(nextSlide, intervalTime);

                 carouselSlidesContainer.parentElement.addEventListener('mouseenter', () => {
                      clearInterval(slideInterval);
                 });

                 carouselSlidesContainer.parentElement.addEventListener('mouseleave', () => {
                      slideInterval = setInterval(nextSlide, intervalTime);
                 });
                 moveCarouselTo(0);
             } else if (slides.length > 0) {
                 console.warn("Carousel slides found, but container .carousel-slides is missing.");
             } else {
                 console.warn("No slides found for the carousel.");
             }

            // --- Image Modal Script ---
            const modal = document.getElementById("imageModal");
            const modalImg = document.getElementById("modalImage");

            document.querySelectorAll('.carousel-slide').forEach(slide => {
                slide.onclick = function(){
                    if (modal && modalImg) {
                        modal.style.display = "block";
                        let style = window.getComputedStyle(this);
                        let bgImage = style.getPropertyValue('background-image');
                        modalImg.src = bgImage.replace(/^url\(["']?/, '').replace(/["']?\)$/, '');
                    }
                }
            });

            const closeModalButton = document.querySelector(".close-modal");
            if (closeModalButton && modal) {
                closeModalButton.onclick = function() {
                    modal.style.display = "none";
                }
            }

            window.onclick = function(event) {
                if (event.target == modal && modal) {
                    modal.style.display = "none";
                }
            }
         });
     </script>

</body>
</html>